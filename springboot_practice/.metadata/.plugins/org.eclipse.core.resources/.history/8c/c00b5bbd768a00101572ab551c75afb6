package com.klef.fsd.springboot.service;

import java.util.List;
import java.util.Optional;

import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Service;

import com.klef.fsd.springboot.model.User;
import com.klef.fsd.springboot.repository.UserRepository;

@Service
public class UserServiceImpl implements UserService {
	@Autowired
	private UserRepository repository;

     public String adduser(User m) {
    	 repository.save(m);
    	  return "user added successfully";
     }
     public List<User> viewallusers() {
  		return repository.findAll();
  		}
     
     
     public String deleteuser(int mid) {
  	Optional<User> object= repository.findById(mid); 
  	String msg=null;
  	if(object.isPresent()) {
  		User user=object.get();
  		repository.delete(user);
  		msg="user deleted successfully";
  	}
  	else {
  		msg="user id not found";
  	}
  	return msg;
  	
  	}

}